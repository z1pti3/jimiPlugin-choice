{% extends "main.html" %}

{% block head %}
    {{ jimi.jquery() }}
    {{ jimi.tables() }}
{% endblock %}

{% block main %}
    <table id="orderTable" class="display theme-table" cellspacing="0" width="100%">
        <thead class="theme-tableHeader">
            <tr>
                <th class="th-sm">_id</th>
                <th class="th-sm">name</th>
                <th class="th-sm">creationTime</th>
                <th class="th-sm">message</th>
                <th class="th-sm">conductID</th>
                <th class="th-sm">triggerID</th>
                <th class="th-sm">flowID</th>
                <th class="th-sm">answer</th>
                <th class="th-sm">answerTime</th>
                <th class="th-sm">complete</th>
                <th class="th-sm">link</th>
            </tr>
        </thead>
        <tbody class="theme-tableBody">
            {% for item in result %}
                <tr>
                    <td>{{ item['_id'] }}</td>
                    <td>{{ item['name'] }}</td>
                    <td>{{ item['creationTime'] }}</td>
                    <td>{{ item['message'] }}</td>
                    <td>{{ item['conductID'] }}</td>
                    <td>{{ item['triggerID'] }}</td>
                    <td>{{ item['flowID'] }}</td>
                    <td>{{ item['answer'] }}</td>
                    <td>{{ item['answerTime'] }}</td>
                    <td>{{ item['complete'] }}</td>
                    <td><a href="/plugin/choice/{{item['token']}}/">Answer</a></td>
                </tr>
            {% endfor %}
        </tbody>
    </table>

    <script>
        $(document).ready(function () {
            $('#orderTable').DataTable({
                "stripeClasses" : [ 'theme-tableRowOdd', 'theme-tableRowEven' ],
                fixedHeader: {
                    header: true,
                    footer: true
                },
                "paging" : false
            });
            $('.dataTables_length').addClass('bs-select');
            $('.dataTables_filter input[type="search"]').css({'width':'200px'});
            $('.dataTables_filter input[type="search"]').addClass("theme-panelTextbox")
        });
    </script>
{% endblock %}